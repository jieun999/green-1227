<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <title>SK 3D Carousel</title>
    <link
      href="https://cdn.jsdelivr.net/gh/sun-typeface/SUIT@2/fonts/static/woff2/SUIT.css"
      rel="stylesheet"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
      }
      ul {
        list-style: none;
      }
      a {
        text-decoration: none;
      }
      section {
        width: 1438px;
        height: 860px;
        margin: 100px auto;
        display: flex;
        align-items: center;
        background: url(https://www.skinnovation.com/resources/images/main/s4-bg.jpg)
          center/cover;
        font-family: "SUIT", sans-serif;
        
        
      }
      #canvas{
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
      }
      .left {
        width: 40%;
        position: relative;
        z-index: 1;
      }
      .right {
        width: 60%;
      }
      .sk {
        width: 200px;
        height: 200px;
        perspective: 800px;
        margin: 0 auto;
        transform-style: preserve-3d;
        display: flex;
        justify-content: center;
      }
      .earthImg {
        position: absolute;
        top: -80%;
        left: -75%;
        width: 510px;
        height: 510px;
      }
      .earthImg img {
        width: 100%;
      }
      .inner {
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
        transition: transform 0.5s ease;
        transform-origin: center;
        position: relative;
      }

      .item {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
      }
      .item a {
        display: flex;
        width: 100%;
        height: 100%;
        padding: 18px;
        flex-direction: column;
        justify-content: space-between;
        background: white;
        border-radius: 10px;
        box-shadow: 0 0 15px 0 rgba(0, 0, 0, 0.05),
          0 0 15px 0 rgba(0, 0, 0, 0.05);
        color: #333;
        box-sizing: border-box;
      }
      .item a .icon-box {
        width: 100%;
        display: flex;
      }
      .item a .icon-box span {
        display: block;
        flex: 1;
      }
      .item a .icon-box span.link {
        width: 31px;
      }
      .item a .icon-box span.icon {
        width: 72px;
        height: 62px;
      }
      .item a .icon-box span img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }
      .item h1 {
        font-size: 14px;
      }
      .item .desc {
        font-size: 10px;
        line-height: 1.7;
        color: #555;
        letter-spacing: -1px;
        white-space: nowrap;
      }
      .left ul li {
        line-height: 40px;
      }
      .left ul li a {
        color: #333;
      }
    </style>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script>
      $(function () {
        let totalItem = $(".inner .item").length;
        let degPerItem = 360 / totalItem;
        $(".item").each(function (index, element) {
          $(element).css(
            "transform",
            `rotateY(${index * degPerItem}deg) translateZ(320px)`
          );
        });
        $(".left ul li").click(function (e) {
          e.preventDefault();
          let i = $(this).index();
          let y = -i * degPerItem;
          $(".inner").css("transform", `rotateY(${y}deg)`);
        });
      });
    </script>
  </head>
  <body>
    <canvas id="canvas"></canvas>
    <section>
      <div class="left">
        <ul>
          <li><a href="#">SK에너지</a></li>
          <li><a href="#">SK지오센트릭</a></li>
          <li><a href="#">SK온</a></li>
          <li><a href="#">SK엔무브</a></li>
          <li><a href="#">SK인천석유화학</a></li>
          <li><a href="#">SK아이이테크놀로지</a></li>
          <li><a href="#">SK어스온</a></li>
        </ul>
      </div>
      <div class="right">
        <div class="sk">
          <p class="earthImg">
            <img
              src="https://www.skinnovation.com/resources/images/main/s4-earth.png"
              alt="지구"
            />
          </p>
          <div class="inner">
            <div class="item">
              <a href="">
                <h1>SK에너지</h1>
                <span class="desc"
                  >에너지를 통해 고객과 <br />사회의 행복에<br />기여하는 미래형
                  에너지 기업<br />
                </span>
                <div class="icon-box">
                  <span class="link"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-linkarrow.png"
                      alt=""
                  /></span>
                  <span class="icon"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-icon-1.png"
                      alt=""
                  /></span>
                </div>
              </a>
            </div>
            <div class="item">
              <a href="">
                <h1>SK지오센트릭</h1>
                <span class="desc"
                  >고부가 화학소재, 차세대 재활용 <br />기술 기반으로 세상에
                  <br />필요한 솔루션을 제공하는 기업<br />
                </span>
                <div class="icon-box">
                  <span class="link"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-linkarrow.png"
                      alt=""
                  /></span>
                  <span class="icon"
                    ><img
                      src="	https://www.skinnovation.com/resources/images/main/s4-icon-2.png"
                      alt=""
                  /></span>
                </div>
              </a>
            </div>
            <div class="item">
              <a href="">
                <h1>SK온</h1>
                <span class="desc"
                  >배터리 기술 혁신으로 더 나은 <br />미래를 열어 나가는 기업<br /><br />
                </span>
                <div class="icon-box">
                  <span class="link"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-linkarrow.png"
                      alt=""
                  /></span>
                  <span class="icon"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-icon-3.png"
                      alt=""
                  /></span>
                </div>
              </a>
            </div>
            <div class="item">
              <a href="">
                <h1>SK엔무브</h1>
                <span class="desc"
                  >제품 기술 경쟁력과 액침냉각,<br />
                  배터리 열관리 등 신규 사업으로 <br />연료/전력 효율성을 높이는
                  Energy<br />Saving Company
                </span>
                <div class="icon-box">
                  <span class="link"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-linkarrow.png"
                      alt=""
                  /></span>
                  <span class="icon"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-icon-4.png"
                      alt=""
                  /></span>
                </div>
              </a>
            </div>
            <div class="item">
              <a href="">
                <h1>SK인천석유화학</h1>
                <span class="desc"
                  >보다 안전하고 <br />깨끗한 에너지로 <br />지역사회와 상생하는
                  기업<br />
                </span>
                <div class="icon-box">
                  <span class="link"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-linkarrow.png"
                      alt=""
                  /></span>
                  <span class="icon"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-icon-5.png"
                      alt=""
                  /></span>
                </div>
              </a>
            </div>
            <div class="item">
              <a href="">
                <h1>SK아이이테크놀로지</h1>
                <span class="desc"
                  >글로벌 탑티어 <br />소재 솔루션 기업 <br /><br /><br
                /></span>
                <div class="icon-box">
                  <span class="link"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-linkarrow.png"
                      alt=""
                  /></span>
                  <span class="icon"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-icon-6.png"
                      alt=""
                  /></span>
                </div>
              </a>
            </div>
            <div class="item">
              <a href="">
                <h1>SK어스온</h1>
                <span class="desc"
                  >자원의 선순환까지 생각하는<br />
                  Carbon Neutral Company<br /><br />
                </span>
                <div class="icon-box">
                  <span class="link"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-linkarrow.png"
                      alt=""
                  /></span>
                  <span class="icon"
                    ><img
                      src="https://www.skinnovation.com/resources/images/main/s4-icon-7.png"
                      alt=""
                  /></span>
                </div>
              </a>
            </div>
          </div>
        </div>
      </div>
    </section>
    <script>
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
  
      const leafImage = new Image();
      leafImage.src = './img/leaves.png';
  
      const leaves = [];
  
      function createLeaf() {
        const size = 20 + Math.random() * 30;
        leaves.push({
          x: canvas.width + Math.random() * 200,
          y: Math.random() * canvas.height,
          size: size,
          speedX: 1 + Math.random() * 2,
          speedY: -0.5 + Math.random() * 1,
          angle: Math.random() * 360,
          angleSpeed: -2 + Math.random() * 4,
        });
      }
  
      function updateLeaves() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        for (let i = leaves.length - 1; i >= 0; i--) {
          const leaf = leaves[i];
  
          // 회전 및 위치 업데이트
          leaf.x -= leaf.speedX;
          leaf.y += leaf.speedY;
          leaf.angle += leaf.angleSpeed;
  
          // 캔버스 밖으로 나가면 제거
          if (leaf.x + leaf.size < 0) {
            leaves.splice(i, 1);
            continue;
          }
  
          // 회전하며 그리기
          ctx.save();
          ctx.translate(leaf.x, leaf.y);
          ctx.rotate((leaf.angle * Math.PI) / 180);
          ctx.drawImage(leafImage, -leaf.size / 2, -leaf.size / 2, leaf.size, leaf.size);
          ctx.restore();
        }
      }
  
      function animate() {
        updateLeaves();
        requestAnimationFrame(animate);
      }
  
      // 일정 주기로 나뭇잎 생성
      setInterval(createLeaf, 1000);
  
      // 이미지 로드 후 애니메이션 시작
      leafImage.onload = () => {
        animate();
      };
  
      // 리사이즈 대응
      window.addEventListener('resize', () => {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
      });
    </script>
  </body>
</html>